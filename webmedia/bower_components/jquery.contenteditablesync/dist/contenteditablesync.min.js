/*! Contenteditable Sync - v0.1.1 - 2014-07-08
* https://github.com/LeResKP/jquery.contenteditablesync
* Copyright (c) 2014 Aur√©lien Matouillot; Licensed MIT */
!function(a,b){var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.init(b)};c.prototype.init=function(c){this.$element=a(c);var d=this.$element.data("target");this.$target=d?a(d):this.$element.prev(),this.timer=null;var e=this;this.value=this.options.getContent(this.$element),this.$element.on("focus",function(){e.watch()}),this.$element.on("blur",function(){b.clearInterval(e.timer),e.timer=null,e.sync()})},c.prototype.watch=function(){return this.timer?!1:void(this.timer=b.setInterval(a.proxy(this.sync,this),this.options.interval))},c.prototype.sync=function(){var a=this.options.getContent(this.$element);a!==this.value&&(this.$target.text(a).trigger("change.contenteditablesync"),this.value=a)},c.DEFAULTS={interval:2e3,getContent:function(a){return a.text()}},a.fn.contenteditablesync=function(b){return this.each(function(){var d=a(this),e=d.data("contenteditablesync"),f="object"==typeof b&&b;e||d.data("contenteditablesync",e=new c(this,f)),"string"==typeof b&&e[b]()})},a.fn.contenteditablesync.Constructor=c}(jQuery,window);